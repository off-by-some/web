import{$ as e,o as t,m as r,l as n,n as a,a0 as o}from"./BJ7Lx12O.js";import{a as s,b as i}from"./BAZfHsXb.js";class c{constructor(e,t){this.status=e,this.body="string"==typeof t?{message:t}:t||{message:`Error: ${e}`}}toString(){return JSON.stringify(this.body)}}class l{constructor(e,t){this.status=e,this.location=t}}class u extends Error{constructor(e,t,r){super(r),this.status=e,this.text=t}}function f(e){for(const t in e)e[t]=decodeURIComponent(e[t]);return e}function d({href:e}){return e.split("#")[0]}function p(e,t,r,n=!1){const a=new URL(e);Object.defineProperty(a,"searchParams",{value:new Proxy(a.searchParams,{get(e,n){if("get"===n||"getAll"===n||"has"===n)return t=>(r(t),e[n](t));t();const a=Reflect.get(e,n);return"function"==typeof a?a.bind(e):a}}),enumerable:!0,configurable:!0});const o=["href","pathname","search","toString","toJSON"];n&&o.push("hash");for(const s of o)Object.defineProperty(a,s,{get:()=>(t(),e[s]),enumerable:!0,configurable:!0});return a}new URL("sveltekit-internal://");const h=window.fetch;window.fetch=(e,t)=>("GET"!==(e instanceof Request?e.method:t?.method||"GET")&&m.delete(y(e)),h(e,t));const m=new Map;function g(e,t){const r=y(e,t),n=document.querySelector(r);if(n?.textContent){let{body:e,...t}=JSON.parse(n.textContent);const a=n.getAttribute("data-ttl");a&&m.set(r,{body:e,init:t,ttl:1e3*Number(a)});return null!==n.getAttribute("data-b64")&&(e=function(e){const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r.buffer}(e)),Promise.resolve(new Response(e,t))}return window.fetch(e,t)}function y(e,t){let r=`script[data-sveltekit-fetched][data-url=${JSON.stringify(e instanceof Request?e.url:e)}]`;if(t?.headers||t?.body){const e=[];t.headers&&e.push([...new Headers(t.headers)].join(",")),t.body&&("string"==typeof t.body||ArrayBuffer.isView(t.body))&&e.push(t.body),r+=`[data-hash="${function(...e){let t=5381;for(const r of e)if("string"==typeof r){let e=r.length;for(;e;)t=33*t^r.charCodeAt(--e)}else{if(!ArrayBuffer.isView(r))throw new TypeError("value must be a string or TypedArray");{const e=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);let n=e.length;for(;n;)t=33*t^e[--n]}}return(t>>>0).toString(36)}(...e)}"]`}return r}const w=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function v(e){const t=[];var r;return{pattern:"/"===e?/^\/$/:new RegExp(`^${(r=e,r.slice(1).split("/").filter(b)).map(e=>{const r=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(e);if(r)return t.push({name:r[1],matcher:r[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const n=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(e);if(n)return t.push({name:n[1],matcher:n[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!e)return;const a=e.split(/\[(.+?)\](?!\])/);return"/"+a.map((e,r)=>{if(r%2){if(e.startsWith("x+"))return k(String.fromCharCode(parseInt(e.slice(2),16)));if(e.startsWith("u+"))return k(String.fromCharCode(...e.slice(2).split("-").map(e=>parseInt(e,16))));const n=w.exec(e),[,o,s,i,c]=n;return t.push({name:i,matcher:c,optional:!!o,rest:!!s,chained:!!s&&(1===r&&""===a[0])}),s?"(.*?)":o?"([^/]*)?":"([^/]+?)"}return k(e)}).join("")}).join("")}/?$`),params:t}}function b(e){return!/^\([^)]+\)$/.test(e)}function k(e){return e.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function S({nodes:e,server_loads:t,dictionary:r,matchers:n}){const a=new Set(t);return Object.entries(r).map(([t,[r,a,i]])=>{const{pattern:c,params:l}=v(t),u={id:t,exec:e=>{const t=c.exec(e);if(t)return function(e,t,r){const n={},a=e.slice(1),o=a.filter(e=>void 0!==e);let s=0;for(let i=0;i<t.length;i+=1){const e=t[i];let c=a[i-s];if(e.chained&&e.rest&&s&&(c=a.slice(i-s,i+1).filter(e=>e).join("/"),s=0),void 0!==c){if(!e.matcher||r[e.matcher](c)){n[e.name]=c;const r=t[i+1],l=a[i+1];r&&!r.rest&&r.optional&&l&&e.chained&&(s=0),r||l||Object.keys(n).length!==o.length||(s=0);continue}if(!e.optional||!e.chained)return;s++}else e.rest&&(n[e.name]="")}if(!s)return n}(t,l,n)},errors:[1,...i||[]].map(t=>e[t]),layouts:[0,...a||[]].map(s),leaf:o(r)};return u.errors.length=u.layouts.length=Math.max(u.errors.length,u.layouts.length),u});function o(t){const r=t<0;return r&&(t=~t),[r,e[t]]}function s(t){return void 0===t?t:[a.has(t),e[t]]}}function A(e,t=JSON.parse){try{return t(sessionStorage[e])}catch{}}function E(e,t,r=JSON.stringify){const n=r(t);try{sessionStorage[e]=n}catch{}}const R="sveltekit:snapshot",U="sveltekit:scroll",x="sveltekit:states",_="sveltekit:pageurl",L="sveltekit:history",C="sveltekit:navigation",P={tap:1,hover:2,viewport:3,eager:4,off:-1,false:-1},j=location.origin;function O(e){if(e instanceof URL)return e;let t=document.baseURI;if(!t){const e=document.getElementsByTagName("base");t=e.length?e[0].href:document.URL}return new URL(e,t)}function I(){return{x:pageXOffset,y:pageYOffset}}function $(e,t){return e.getAttribute(`data-sveltekit-${t}`)}const T={...P,"":P.hover};function N(e){let t=e.assignedSlot??e.parentNode;return 11===t?.nodeType&&(t=t.host),t}function D(e,t){for(;e&&e!==t;){if("A"===e.nodeName.toUpperCase()&&e.hasAttribute("href"))return e;e=N(e)}}function B(e,t,r){let n;try{if(n=new URL(e instanceof SVGAElement?e.href.baseVal:e.href,document.baseURI),r&&n.hash.match(/^#[^/]/)){const e=location.hash.split("#")[1]||"/";n.hash=`#${e}${n.hash}`}}catch{}const a=e instanceof SVGAElement?e.target.baseVal:e.target;return{url:n,external:!n||!!a||W(n,t,r)||(e.getAttribute("rel")||"").split(/\s+/).includes("external"),target:a,download:n?.origin===j&&e.hasAttribute("download")}}function V(e){let t=null,r=null,n=null,a=null,o=null,s=null,i=e;for(;i&&i!==document.documentElement;)null===n&&(n=$(i,"preload-code")),null===a&&(a=$(i,"preload-data")),null===t&&(t=$(i,"keepfocus")),null===r&&(r=$(i,"noscroll")),null===o&&(o=$(i,"reload")),null===s&&(s=$(i,"replacestate")),i=N(i);function c(e){switch(e){case"":case"true":return!0;case"off":case"false":return!1;default:return}}return{preload_code:T[n??"off"],preload_data:T[a??"off"],keepfocus:c(t),noscroll:c(r),reload:c(o),replace_state:c(s)}}function q(t){const r=e(t);let n=!0;return{notify:function(){n=!0,r.update(e=>e)},set:function(e){n=!1,r.set(e)},subscribe:function(e){let t;return r.subscribe(r=>{(void 0===t||n&&r!==t)&&e(t=r)})}}}const F={v:()=>{}};function M(){const{set:t,subscribe:r}=e(!1);let n;return{subscribe:r,check:async function(){clearTimeout(n);try{const e=await fetch(`${s}/_app/version.json`,{headers:{pragma:"no-cache","cache-control":"no-cache"}});if(!e.ok)return!1;const r="1754969032474"!==(await e.json()).version;return r&&(t(!0),F.v(),clearTimeout(n)),r}catch{return!1}}}}function W(e,t,r){return e.origin!==j||!e.pathname.startsWith(t)||!!r&&(e.pathname!==t+"/"&&e.pathname!==t+"/index.html"&&("file:"!==e.protocol||e.pathname.replace(/\/[^/]+\.html?$/,"")!==t))}function J(e){}function G(e){const t=function(e){e.length%4==0&&(e=e.replace(/==?$/,""));let t="",r=0,n=0;for(let a=0;a<e.length;a++)r<<=6,r|=H.indexOf(e[a]),n+=6,24===n&&(t+=String.fromCharCode((16711680&r)>>16),t+=String.fromCharCode((65280&r)>>8),t+=String.fromCharCode(255&r),r=n=0);12===n?(r>>=4,t+=String.fromCharCode(r)):18===n&&(r>>=2,t+=String.fromCharCode((65280&r)>>8),t+=String.fromCharCode(255&r));return t}(e),r=new ArrayBuffer(t.length),n=new DataView(r);for(let a=0;a<r.byteLength;a++)n.setUint8(a,t.charCodeAt(a));return r}const H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";const K=new Set(["load","prerender","csr","ssr","trailingSlash","config"]);function z(e){return e instanceof c||e instanceof u?e.status:500}let X,Y,Q;t.toString().includes("$$")||/function \w+\(\) \{\}/.test(t.toString())?(X={data:{},form:null,error:null,params:{},route:{id:null},state:{},status:-1,url:new URL("https://example.com")},Y={current:null},Q={current:!1}):(X=new class{#e=r({});get data(){return n(this.#e)}set data(e){a(this.#e,e)}#t=r(null);get form(){return n(this.#t)}set form(e){a(this.#t,e)}#r=r(null);get error(){return n(this.#r)}set error(e){a(this.#r,e)}#n=r({});get params(){return n(this.#n)}set params(e){a(this.#n,e)}#a=r({id:null});get route(){return n(this.#a)}set route(e){a(this.#a,e)}#o=r({});get state(){return n(this.#o)}set state(e){a(this.#o,e)}#s=r(-1);get status(){return n(this.#s)}set status(e){a(this.#s,e)}#i=r(new URL("https://example.com"));get url(){return n(this.#i)}set url(e){a(this.#i,e)}},Y=new class{#c=r(null);get current(){return n(this.#c)}set current(e){a(this.#c,e)}},Q=new class{#c=r(!1);get current(){return n(this.#c)}set current(e){a(this.#c,e)}},F.v=()=>Q.current=!0);const{tick:Z}=o,ee=new Set(["icon","shortcut icon","apple-touch-icon"]),te=A(U)??{},re=A(R)??{},ne={url:q({}),page:q({}),navigating:e(null),updated:M()};function ae(e){te[e]=I()}function oe(e){return location.href=e.href,new Promise(()=>{})}async function se(){if("serviceWorker"in navigator){const e=await navigator.serviceWorker.getRegistration(i||"/");e&&await e.update()}}function ie(){}let ce,le,ue,fe,de,pe;const he=[],me=[];let ge=null;const ye=new Map,we=new Set,ve=new Set,be=new Set;let ke,Se,Ae,Ee,Re={branch:[],error:null,url:null},Ue=!1,xe=!1,_e=!0,Le=!1,Ce=!1,Pe=!1,je=!1;const Oe=new Set;async function Ie(e,t,r){document.URL!==location.href&&(location.href=location.href),pe=e,await(e.hooks.init?.()),ce=S(e),fe=document.documentElement,de=t,le=e.nodes[0],ue=e.nodes[1],le(),ue(),Se=history.state?.[L],Ae=history.state?.[C],Se||(Se=Ae=Date.now(),history.replaceState({...history.state,[L]:Se,[C]:Ae},""));const n=te[Se];function a(){n&&(history.scrollRestoration="manual",scrollTo(n.x,n.y))}r?(a(),await async function(e,{status:t=200,error:r,node_ids:n,params:a,route:o,server_route:s,data:i,form:c}){Ue=!0;const u=new URL(location.href);let f,d;({params:a={},route:o={id:null}}=await Xe(u,!1)||{}),f=ce.find(({id:e})=>e===o.id);let p=!0;try{const e=n.map(async(t,r)=>{const n=i[r];return n?.uses&&(n.uses=at(n.uses)),Fe({loader:pe.nodes[t],url:u,params:a,route:o,parent:async()=>{const t={};for(let n=0;n<r;n+=1)Object.assign(t,(await e[n]).data);return t},server_data_node:Je(n)})}),s=await Promise.all(e);if(f){const e=f.layouts;for(let t=0;t<e.length;t++)e[t]||s.splice(t,0,void 0)}d=qe({url:u,params:a,branch:s,status:t,error:r,form:c,route:f??null})}catch(h){if(h instanceof l)return void(await oe(new URL(h.location,location.href)));d=await ze({status:z(h),error:await tt(h,{url:u,params:a,route:o}),url:u,route:o}),e.textContent="",p=!1}d.props.page&&(d.props.page.state={});Ve(d,e,p)}(de,r)):(await Ze({type:"enter",url:O(pe.hash?ct(new URL(location.href)):location.href),replace_state:!0}),a()),function(){history.scrollRestoration="manual",addEventListener("beforeunload",e=>{let t=!1;if(Ne(),!Le){const e=st(Re,void 0,null,"leave"),r={...e.navigation,cancel:()=>{t=!0,e.reject(new Error("navigation cancelled"))}};we.forEach(e=>e(r))}t?(e.preventDefault(),e.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&Ne()}),navigator.connection?.saveData||function(){let e,t,r;function n(e){e.defaultPrevented||o(e.composedPath()[0],P.tap)}fe.addEventListener("mousemove",t=>{const r=t.target;clearTimeout(e),e=setTimeout(()=>{o(r,P.hover)},20)}),fe.addEventListener("mousedown",n),fe.addEventListener("touchstart",n,{passive:!0});const a=new IntersectionObserver(e=>{for(const t of e)t.isIntersecting&&(Be(new URL(t.target.href)),a.unobserve(t.target))},{threshold:0});async function o(e,n){const a=D(e,fe);if(!a||a===t&&n>=r)return;const{url:o,external:s,download:c}=B(a,i,pe.hash);if(s||c)return;const l=V(a),u=o&&Ye(Re.url)===Ye(o);if(!l.reload&&!u)if(n<=l.preload_data){t=a,r=P.tap;const e=await Xe(o,!1);if(!e)return;!async function(e){if(e.id!==ge?.id){const t={};Oe.add(t),ge={id:e.id,token:t,promise:He({...e,preload:t}).then(e=>(Oe.delete(t),"loaded"===e.type&&e.state.error&&(ge=null),e))}}ge.promise}(e)}else n<=l.preload_code&&(t=a,r=n,Be(o))}function s(){a.disconnect();for(const e of fe.querySelectorAll("a")){const{url:t,external:r,download:n}=B(e,i,pe.hash);if(r||n)continue;const o=V(e);o.reload||(o.preload_code===P.viewport&&a.observe(e),o.preload_code===P.eager&&Be(t))}}be.add(s),s()}();fe.addEventListener("click",async t=>{if(t.button||1!==t.which)return;if(t.metaKey||t.ctrlKey||t.shiftKey||t.altKey)return;if(t.defaultPrevented)return;const r=D(t.composedPath()[0],fe);if(!r)return;const{url:n,external:a,target:o,download:s}=B(r,i,pe.hash);if(!n)return;if("_parent"===o||"_top"===o){if(window.parent!==window)return}else if(o&&"_self"!==o)return;const c=V(r);if(!(r instanceof SVGAElement)&&n.protocol!==location.protocol&&"https:"!==n.protocol&&"http:"!==n.protocol)return;if(s)return;const[l,u]=(pe.hash?n.hash.replace(/^#/,""):n.href).split("#"),f=l===d(location);if(!a&&(!c.reload||f&&u)){if(void 0!==u&&f){const[,a]=Re.url.href.split("#");if(a===u){if(t.preventDefault(),""===u||"top"===u&&null===r.ownerDocument.getElementById("top"))window.scrollTo({top:0});else{const e=r.ownerDocument.getElementById(decodeURIComponent(u));e&&(e.scrollIntoView(),e.focus())}return}if(Ce=!0,ae(Se),e(n),!c.replace_state)return;Ce=!1}t.preventDefault(),await new Promise(e=>{requestAnimationFrame(()=>{setTimeout(e,0)}),setTimeout(e,100)}),await Ze({type:"link",url:n,keepfocus:c.keepfocus,noscroll:c.noscroll,replace_state:c.replace_state??n.href===location.href})}else Qe({url:n,type:"link"})?Le=!0:t.preventDefault()}),fe.addEventListener("submit",e=>{if(e.defaultPrevented)return;const t=HTMLFormElement.prototype.cloneNode.call(e.target),r=e.submitter;if("_blank"===(r?.formTarget||t.target))return;if("get"!==(r?.formMethod||t.method))return;const n=new URL(r?.hasAttribute("formaction")&&r?.formAction||t.action);if(W(n,i,!1))return;const a=e.target,o=V(a);if(o.reload)return;e.preventDefault(),e.stopPropagation();const s=new FormData(a),c=r?.getAttribute("name");c&&s.append(c,r?.getAttribute("value")??""),n.search=new URLSearchParams(s).toString(),Ze({type:"form",url:n,keepfocus:o.keepfocus,noscroll:o.noscroll,replace_state:o.replace_state??n.href===location.href})}),addEventListener("popstate",async t=>{if(!ot)if(t.state?.[L]){const r=t.state[L];if(Ee={},r===Se)return;const n=te[r],a=t.state[x]??{},o=new URL(t.state[_]??location.href),s=t.state[C],i=!!Re.url&&d(location)===d(Re.url);if(s===Ae&&(Pe||i))return a!==X.state&&(X.state=a),e(o),te[Se]=I(),n&&scrollTo(n.x,n.y),void(Se=r);const c=r-Se;await Ze({type:"popstate",url:o,popped:{state:a,scroll:n,delta:c},accept:()=>{Se=r,Ae=s},block:()=>{history.go(-c)},nav_token:Ee})}else if(!Ce){e(new URL(location.href)),pe.hash&&location.reload()}}),addEventListener("hashchange",()=>{Ce&&(Ce=!1,history.replaceState({...history.state,[L]:++Se,[C]:Ae},"",location.href))});for(const t of document.querySelectorAll("link"))ee.has(t.rel)&&(t.href=t.href);function e(e){Re.url=X.url=e,ne.page.set(it(X)),ne.page.notify()}addEventListener("pageshow",e=>{e.persisted&&ne.navigating.set(Y.current=null)})}()}function $e(e){me.some(e=>e?.snapshot)&&(re[e]=me.map(e=>e?.snapshot?.capture()))}function Te(e){re[e]?.forEach((e,t)=>{me[t]?.snapshot?.restore(e)})}function Ne(){ae(Se),E(U,te),$e(Ae),E(R,re)}async function De(e,t,r,n){return Ze({type:"goto",url:O(e),keepfocus:t.keepFocus,noscroll:t.noScroll,replace_state:t.replaceState,state:t.state,redirect_count:r,nav_token:n,accept:()=>{t.invalidateAll&&(je=!0),t.invalidate&&t.invalidate.forEach(rt)}})}async function Be(e){const t=(await Xe(e,!1))?.route;t&&await Promise.all([...t.layouts,t.leaf].map(e=>e?.[1]()))}function Ve(e,t,r){Re=e.state;const n=document.querySelector("style[data-sveltekit]");if(n&&n.remove(),Object.assign(X,e.props.page),ke=new pe.root({target:t,props:{...e.props,stores:ne,components:me},hydrate:r,sync:!1}),Te(Ae),r){const e={from:null,to:{params:Re.params,route:{id:Re.route?.id??null},url:new URL(location.href)},willUnload:!1,type:"enter",complete:Promise.resolve()};be.forEach(t=>t(e))}xe=!0}function qe({url:e,params:t,branch:r,status:n,error:a,route:o,form:s}){let c="never";if(!i||e.pathname!==i&&e.pathname!==i+"/")for(const i of r)void 0!==i?.slash&&(c=i.slash);else c="always";var l,u;e.pathname=(l=e.pathname,u=c,"/"===l||"ignore"===u?l:"never"===u?l.endsWith("/")?l.slice(0,-1):l:"always"!==u||l.endsWith("/")?l:l+"/"),e.search=e.search;const f={type:"loaded",state:{url:e,params:t,branch:r,error:a,route:o},props:{constructors:(d=r,d.filter(e=>null!=e)).map(e=>e.node.component),page:it(X)}};var d;void 0!==s&&(f.props.form=s);let p={},h=!X,m=0;for(let i=0;i<Math.max(r.length,Re.branch.length);i+=1){const e=r[i],t=Re.branch[i];e?.data!==t?.data&&(h=!0),e&&(p={...p,...e.data},h&&(f.props[`data_${m}`]=p),m+=1)}return(!Re.url||e.href!==Re.url.href||Re.error!==a||void 0!==s&&s!==X.form||h)&&(f.props.page={error:a,params:t,route:{id:o?.id??null},state:{},status:n,url:new URL(e),form:s??null,data:h?p:X.data}),f}async function Fe({loader:e,parent:t,url:r,params:n,route:a,server_data_node:o}){let s=null,i=!0;const c={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1,search_params:new Set},l=await e();if(l.universal?.load){let e=function(...e){for(const t of e){const{href:e}=new URL(t,r);c.dependencies.add(e)}};const u={route:new Proxy(a,{get:(e,t)=>(i&&(c.route=!0),e[t])}),params:new Proxy(n,{get:(e,t)=>(i&&c.params.add(t),e[t])}),data:o?.data??null,url:p(r,()=>{i&&(c.url=!0)},e=>{i&&c.search_params.add(e)},pe.hash),async fetch(t,n){t instanceof Request&&(n={body:"GET"===t.method||"HEAD"===t.method?void 0:await t.blob(),cache:t.cache,credentials:t.credentials,headers:[...t.headers].length>0?t?.headers:void 0,integrity:t.integrity,keepalive:t.keepalive,method:t.method,mode:t.mode,redirect:t.redirect,referrer:t.referrer,referrerPolicy:t.referrerPolicy,signal:t.signal,...n});const{resolved:a,promise:o}=Me(t,n,r);return i&&e(a.href),o},setHeaders:()=>{},depends:e,parent:()=>(i&&(c.parent=!0),t()),untrack(e){i=!1;try{return e()}finally{i=!0}}};s=await l.universal.load.call(null,u)??null}return{node:l,loader:e,server:o,universal:l.universal?.load?{type:"data",data:s,uses:c}:null,data:s??o?.data??null,slash:l.universal?.trailingSlash??o?.slash}}function Me(e,t,r){let n=e instanceof Request?e.url:e;const a=new URL(n,r);a.origin===r.origin&&(n=a.href.slice(r.origin.length));const o=xe?function(e,t,r){if(m.size>0){const t=y(e,r),n=m.get(t);if(n){if(performance.now()<n.ttl&&["default","force-cache","only-if-cached",void 0].includes(r?.cache))return new Response(n.body,n.init);m.delete(t)}}return window.fetch(t,r)}(n,a.href,t):g(n,t);return{resolved:a,promise:o}}function We(e,t,r,n,a,o){if(je)return!0;if(!a)return!1;if(a.parent&&e)return!0;if(a.route&&t)return!0;if(a.url&&r)return!0;for(const s of a.search_params)if(n.has(s))return!0;for(const s of a.params)if(o[s]!==Re.params[s])return!0;for(const s of a.dependencies)if(he.some(e=>e(new URL(s))))return!0;return!1}function Je(e,t){return"data"===e?.type?e:"skip"===e?.type?t??null:null}function Ge({error:e,url:t,route:r,params:n}){return{type:"loaded",state:{error:e,url:t,route:r,params:n,branch:[]},props:{page:it(X),constructors:[]}}}async function He({id:e,invalidating:t,url:r,params:n,route:a,preload:o}){if(ge?.id===e)return Oe.delete(ge.token),ge.promise;const{errors:s,layouts:i,leaf:u}=a,f=[...i,u];s.forEach(e=>e?.().catch(()=>{})),f.forEach(e=>e?.[1]().catch(()=>{}));let d=null;const p=!!Re.url&&e!==Ye(Re.url),h=!!Re.route&&a.id!==Re.route.id,m=function(e,t){if(!e)return new Set(t.searchParams.keys());const r=new Set([...e.searchParams.keys(),...t.searchParams.keys()]);for(const n of r){const a=e.searchParams.getAll(n),o=t.searchParams.getAll(n);a.every(e=>o.includes(e))&&o.every(e=>a.includes(e))&&r.delete(n)}return r}(Re.url,r);let g=!1;const y=f.map((e,t)=>{const r=Re.branch[t],a=!!e?.[0]&&(r?.loader!==e[1]||We(g,h,p,m,r.server?.uses,n));return a&&(g=!0),a});if(y.some(Boolean)){try{d=await nt(r,y)}catch(S){const t=await tt(S,{url:r,params:n,route:{id:e}});return Oe.has(o)?Ge({error:t,url:r,params:n,route:a}):ze({status:z(S),error:t,url:r,route:a})}if("redirect"===d.type)return d}const w=d?.nodes;let v=!1;const b=f.map(async(e,t)=>{if(!e)return;const o=Re.branch[t],s=w?.[t];if(!(s&&"skip"!==s.type||e[1]!==o?.loader||We(v,h,p,m,o.universal?.uses,n)))return o;if(v=!0,"error"===s?.type)throw s;return Fe({loader:e[1],url:r,params:n,route:a,parent:async()=>{const e={};for(let r=0;r<t;r+=1)Object.assign(e,(await b[r])?.data);return e},server_data_node:Je(void 0===s&&e[0]?{type:"skip"}:s??null,e[0]?o?.server:void 0)})});for(const c of b)c.catch(()=>{});const k=[];for(let E=0;E<f.length;E+=1)if(f[E])try{k.push(await b[E])}catch(A){if(A instanceof l)return{type:"redirect",location:A.location};if(Oe.has(o))return Ge({error:await tt(A,{params:n,url:r,route:{id:a.id}}),url:r,params:n,route:a});let e,t=z(A);if(w?.includes(A))t=A.status??t,e=A.error;else if(A instanceof c)e=A.body;else{if(await ne.updated.check())return await se(),await oe(r);e=await tt(A,{params:n,url:r,route:{id:a.id}})}const i=await Ke(E,k,s);return i?qe({url:r,params:n,branch:k.slice(0,i.idx).concat(i.node),status:t,error:e,route:a}):await et(r,{id:a.id},e,t)}else k.push(void 0);return qe({url:r,params:n,branch:k,status:200,error:null,route:a,form:t?void 0:null})}async function Ke(e,t,r){for(;e--;)if(r[e]){let n=e;for(;!t[n];)n-=1;try{return{idx:n+1,node:{node:await r[e](),loader:r[e],data:{},server:null,universal:null}}}catch{continue}}}async function ze({status:e,error:t,url:r,route:n}){const a={};let o=null;if(0===pe.server_loads[0])try{const e=await nt(r,[!0]);if("data"!==e.type||e.nodes[0]&&"data"!==e.nodes[0].type)throw 0;o=e.nodes[0]??null}catch{(r.origin!==j||r.pathname!==location.pathname||Ue)&&await oe(r)}try{const s=await Fe({loader:le,url:r,params:a,route:n,parent:()=>Promise.resolve({}),server_data_node:Je(o)});return qe({url:r,params:a,branch:[s,{node:await ue(),loader:ue,universal:null,server:null,data:null}],status:e,error:t,route:null})}catch(s){if(s instanceof l)return De(new URL(s.location,location.href),{},0);throw s}}async function Xe(e,t){if(e&&!W(e,i,pe.hash)){const r=await async function(e){const t=e.href;if(ye.has(t))return ye.get(t);let r;try{const n=(async()=>{let t=await pe.hooks.reroute({url:new URL(e),fetch:async(t,r)=>Me(t,r,e).promise})??e;if("string"==typeof t){const r=new URL(e);pe.hash?r.hash=t:r.pathname=t,t=r}return t})();ye.set(t,n),r=await n}catch(n){return void ye.delete(t)}return r}(e);if(!r)return;const n=function(e){return t=pe.hash?e.hash.replace(/^#/,"").replace(/[?#].+/,""):e.pathname.slice(i.length),t.split("%25").map(decodeURI).join("%25")||"/";var t}(r);for(const a of ce){const r=a.exec(n);if(r)return{id:Ye(e),invalidating:t,route:a,params:f(r),url:e}}}}function Ye(e){return(pe.hash?e.hash.replace(/^#/,""):e.pathname)+e.search}function Qe({url:e,type:t,intent:r,delta:n}){let a=!1;const o=st(Re,r,e,t);void 0!==n&&(o.navigation.delta=n);const s={...o.navigation,cancel:()=>{a=!0,o.reject(new Error("navigation cancelled"))}};return Le||we.forEach(e=>e(s)),a?null:o}async function Ze({type:e,url:t,popped:r,keepfocus:n,noscroll:a,replace_state:o,state:s={},redirect_count:c=0,nav_token:l={},accept:f=ie,block:d=ie}){const p=Ee;Ee=l;const h=await Xe(t,!1),m="enter"===e?st(Re,h,t,e):Qe({url:t,type:e,delta:r?.delta,intent:h});if(!m)return d(),void(Ee===l&&(Ee=p));const g=Se,y=Ae;f(),Le=!0,xe&&"enter"!==m.navigation.type&&ne.navigating.set(Y.current=m.navigation);let w=h&&await He(h);if(!w){if(W(t,i,pe.hash))return await oe(t);w=await et(t,{id:null},await tt(new u(404,"Not Found",`Not found: ${t.pathname}`),{url:t,params:{},route:{id:null}}),404)}if(t=h?.url||t,Ee!==l)return m.reject(new Error("navigation aborted")),!1;if("redirect"===w.type){if(!(c>=20))return await De(new URL(w.location,t).href,{},c+1,l),!1;w=await ze({status:500,error:await tt(new Error("Redirect loop"),{url:t,params:{},route:{id:null}}),url:t,route:{id:null}})}else if(w.props.page.status>=400){await ne.updated.check()&&(await se(),await oe(t))}if(he.length=0,je=!1,ae(g),$e(y),w.props.page.url.pathname!==t.pathname&&(t.pathname=w.props.page.url.pathname),s=r?r.state:s,!r){const e=o?0:1,r={[L]:Se+=e,[C]:Ae+=e,[x]:s};(o?history.replaceState:history.pushState).call(history,r,"",t),o||function(e,t){let r=e+1;for(;te[r];)delete te[r],r+=1;for(r=t+1;re[r];)delete re[r],r+=1}(Se,Ae)}if(ge=null,w.props.page.state=s,xe){Re=w.state,w.props.page&&(w.props.page.url=t);const e=(await Promise.all(Array.from(ve,e=>e(m.navigation)))).filter(e=>"function"==typeof e);if(e.length>0){let t=function(){e.forEach(e=>{be.delete(e)})};e.push(t),e.forEach(e=>{be.add(e)})}ke.$set(w.props),v=w.props.page,Object.assign(X,v),Pe=!0}else Ve(w,de,!1);var v;const{activeElement:b}=document;await Z();const k=r?r.scroll:a?I():null;if(_e){const e=t.hash&&document.getElementById(lt(t));k?scrollTo(k.x,k.y):e?e.scrollIntoView():scrollTo(0,0)}const S=document.activeElement!==b&&document.activeElement!==document.body;n||S||function(e){const t=document.querySelector("[autofocus]");if(t)t.focus();else{const t=lt(e);if(t&&document.getElementById(t)){const{x:r,y:n}=I();setTimeout(()=>{const a=history.state;ot=!0,location.replace(`#${t}`),pe.hash&&location.replace(e.hash),history.replaceState(a,"",e.hash),scrollTo(r,n),ot=!1})}else{const e=document.body,t=e.getAttribute("tabindex");e.tabIndex=-1,e.focus({preventScroll:!0,focusVisible:!1}),null!==t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}const r=getSelection();if(r&&"None"!==r.type){const e=[];for(let t=0;t<r.rangeCount;t+=1)e.push(r.getRangeAt(t));setTimeout(()=>{if(r.rangeCount===e.length){for(let t=0;t<r.rangeCount;t+=1){const n=e[t],a=r.getRangeAt(t);if(n.commonAncestorContainer!==a.commonAncestorContainer||n.startContainer!==a.startContainer||n.endContainer!==a.endContainer||n.startOffset!==a.startOffset||n.endOffset!==a.endOffset)return}r.removeAllRanges()}})}}}(t),_e=!0,w.props.page&&Object.assign(X,w.props.page),Le=!1,"popstate"===e&&Te(Ae),m.fulfil(void 0),be.forEach(e=>e(m.navigation)),ne.navigating.set(Y.current=null)}async function et(e,t,r,n){return e.origin!==j||e.pathname!==location.pathname||Ue?await oe(e):await ze({status:n,error:r,url:e,route:t})}function tt(e,t){if(e instanceof c)return e.body;const r=z(e),n=function(e){return e instanceof u?e.text:"Internal Error"}(e);return pe.hooks.handleError({error:e,event:t,status:r,message:n})??{message:n}}function rt(e){if("function"==typeof e)he.push(e);else{const{href:t}=new URL(e,location.href);he.push(e=>e.href===t)}}async function nt(e,t){const r=new URL(e);var n;r.pathname=(n=e.pathname).endsWith(".html")?n.replace(/\.html$/,".html__data.json"):n.replace(/\/$/,"")+"/__data.json",e.pathname.endsWith("/")&&r.searchParams.append("x-sveltekit-trailing-slash","1"),r.searchParams.append("x-sveltekit-invalidated",t.map(e=>e?"1":"0").join(""));const a=window.fetch,o=await a(r.href,{});if(!o.ok){let e;throw o.headers.get("content-type")?.includes("application/json")?e=await o.json():404===o.status?e="Not Found":500===o.status&&(e="Internal Error"),new c(o.status,e)}return new Promise(async e=>{const t=new Map,r=o.body.getReader(),n=new TextDecoder;function a(e){return function(e,t){if("number"==typeof e)return a(e,!0);if(!Array.isArray(e)||0===e.length)throw new Error("Invalid input");const r=e,n=Array(r.length);function a(e,o=!1){if(-1===e)return;if(-3===e)return NaN;if(-4===e)return 1/0;if(-5===e)return-1/0;if(-6===e)return-0;if(o)throw new Error("Invalid input");if(e in n)return n[e];const s=r[e];if(s&&"object"==typeof s)if(Array.isArray(s))if("string"==typeof s[0]){const r=s[0],o=t?.[r];if(o)return n[e]=o(a(s[1]));switch(r){case"Date":n[e]=new Date(s[1]);break;case"Set":const t=new Set;n[e]=t;for(let e=1;e<s.length;e+=1)t.add(a(s[e]));break;case"Map":const o=new Map;n[e]=o;for(let e=1;e<s.length;e+=2)o.set(a(s[e]),a(s[e+1]));break;case"RegExp":n[e]=new RegExp(s[1],s[2]);break;case"Object":n[e]=Object(s[1]);break;case"BigInt":n[e]=BigInt(s[1]);break;case"null":const i=Object.create(null);n[e]=i;for(let e=1;e<s.length;e+=2)i[s[e]]=a(s[e+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const t=new(0,globalThis[r])(G(s[1]));n[e]=t;break}case"ArrayBuffer":{const t=G(s[1]);n[e]=t;break}default:throw new Error(`Unknown type ${r}`)}}else{const t=new Array(s.length);n[e]=t;for(let e=0;e<s.length;e+=1){const r=s[e];-2!==r&&(t[e]=a(r))}}else{const t={};n[e]=t;for(const e in s){const r=s[e];t[e]=a(r)}}else n[e]=s;return n[e]}return a(0)}(e,{...pe.decoders,Promise:e=>new Promise((r,n)=>{t.set(e,{fulfil:r,reject:n})})})}let s="";for(;;){const{done:o,value:i}=await r.read();if(o&&!s)break;for(s+=!i&&s?"\n":n.decode(i,{stream:!0});;){const r=s.indexOf("\n");if(-1===r)break;const n=JSON.parse(s.slice(0,r));if(s=s.slice(r+1),"redirect"===n.type)return e(n);if("data"===n.type)n.nodes?.forEach(e=>{"data"===e?.type&&(e.uses=at(e.uses),e.data=a(e.data))}),e(n);else if("chunk"===n.type){const{id:e,data:r,error:o}=n,s=t.get(e);t.delete(e),o?s.reject(a(o)):s.fulfil(a(r))}}}})}function at(e){return{dependencies:new Set(e?.dependencies??[]),params:new Set(e?.params??[]),parent:!!e?.parent,route:!!e?.route,url:!!e?.url,search_params:new Set(e?.search_params??[])}}let ot=!1;function st(e,t,r,n){let a,o;const s=new Promise((e,t)=>{a=e,o=t});s.catch(()=>{});return{navigation:{from:{params:e.params,route:{id:e.route?.id??null},url:e.url},to:r&&{params:t?.params??null,route:{id:t?.route?.id??null},url:r},willUnload:!t,type:n,complete:s},fulfil:a,reject:o}}function it(e){return{data:e.data,error:e.error,form:e.form,params:e.params,route:e.route,state:e.state,status:e.status,url:e.url}}function ct(e){const t=new URL(e);return t.hash=decodeURIComponent(e.hash),t}function lt(e){let t;if(pe.hash){const[,,r]=e.hash.split("#",3);t=r??""}else t=e.hash.slice(1);return decodeURIComponent(t)}export{Ie as a,J as l,X as p,ne as s};
